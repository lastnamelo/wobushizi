(()=>{var e={};e.id=287,e.ids=[287],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4617:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(9085),r(1506),r(5866);var a=r(3191),n=r(8716),s=r(7922),l=r.n(s),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["master",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9085)),"/Users/lastnamelo/wobushizi.com/app/master/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/lastnamelo/wobushizi.com/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/lastnamelo/wobushizi.com/app/master/page.tsx"],u="/master/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/master/page",pathname:"/master",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1186:(e,t,r)=>{Promise.resolve().then(r.bind(r,3))},3:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(326),n=r(7577),s=r(7259),l=r(6223),i=r(9883),o=r(4047),c=r(4726),d=r(4620),u=r(5006),h=r(2603);let p=(0,d.tk)();function x(){let[e,t]=(0,n.useState)(!0),[r,x]=(0,n.useState)(0),[m,b]=(0,n.useState)(new Map),[g,f]=(0,n.useState)(""),[j,y]=(0,n.useState)("all"),[v,N]=(0,n.useState)("all"),[_,S]=(0,n.useState)("frequency"),[w,k]=(0,n.useState)(null),q=(0,n.useMemo)(()=>{let e=g.trim().normalize("NFKC").toLowerCase(),t=(0,h.q)(e),r=t.length>0&&/^[a-z]+$/.test(t),a=p.filter(a=>{if(!a.character)return!1;let n=m.get(a.character)??"none",s="number"==typeof a.hsk_level?String(a.hsk_level):"unknown";if("all"!==j&&n!==j||"all"!==v&&s!==v)return!1;if(!e)return!0;let l=String(a.pinyin??"").toLowerCase(),i=(0,h.U)(l);return r?i.some(e=>e===t):a.character.includes(e)||String(a.traditional_character??"").includes(e)||String(a.alternate_characters??"").includes(e)||i.some(e=>e.startsWith(t))}).map(e=>(function(e,t){let r=(0,d.V$)(e.character);return{character:r?.character?String(r.character):e.character,status:"none"===t?void 0:t,traditional_character:e.traditional_character&&e.traditional_character!==e.character?String(e.traditional_character):"",alternate_characters:"string"==typeof e.alternate_characters?e.alternate_characters:"",pinyin:e.pinyin?String(e.pinyin):"",hsk_level:"number"==typeof e.hsk_level?e.hsk_level:null,frequency:"number"==typeof e.frequency?e.frequency:null,definition:e.definition?String(e.definition):""}})(e,m.get(e.character)??"none")).sort((e,t)=>{if("frequency"===_){let r=e.frequency??Number.MAX_SAFE_INTEGER,a=t.frequency??Number.MAX_SAFE_INTEGER;if(r!==a)return r-a}if("hsk"===_){let r=e.hsk_level??99,a=t.hsk_level??99;if(r!==a)return r-a}return e.character.localeCompare(t.character,"zh-Hans-CN")}),n=new Map;for(let e of a){let t=n.get(e.character);if(!t){n.set(e.character,e);continue}let r=t.frequency??Number.MAX_SAFE_INTEGER;(e.frequency??Number.MAX_SAFE_INTEGER)<r&&n.set(e.character,e)}return[...n.values()]},[g,j,v,_,m]);async function C(e,t){await (0,c.m$)(e,t),b(r=>{let a=new Map(r);return a.set(e,t),a}),x(await (0,c.B9)())}return(0,a.jsxs)("main",{className:"relative mx-auto min-h-screen max-w-7xl px-4 py-10 sm:px-6",children:[a.jsx(o.v,{}),a.jsx(l.T,{}),a.jsx(i.k,{knownCount:r}),a.jsx(s.X,{active:"master"}),e?a.jsx("p",{className:"mt-6 text-center text-stone-600",children:"Loading..."}):null,e?null:(0,a.jsxs)("section",{className:"mt-6 rounded-2xl border border-line bg-white p-4 shadow-card",children:[a.jsx("h2",{className:"mb-3 text-lg font-medium text-stone-800",children:"Master List"}),(0,a.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[a.jsx("input",{value:g,onChange:e=>f(e.target.value),placeholder:"Search character / pinyin / trad-alt",className:"min-w-64 flex-1 rounded-lg border border-line bg-stone-50 px-3 py-2 text-sm outline-none focus:border-stone-400"}),(0,a.jsxs)("select",{value:j,onChange:e=>y(e.target.value),className:"rounded-lg border border-line bg-stone-50 px-3 py-2 text-sm",children:[a.jsx("option",{value:"all",children:"Status: All"}),a.jsx("option",{value:"known",children:"Known"}),a.jsx("option",{value:"study",children:"Study"}),a.jsx("option",{value:"none",children:"None"})]}),(0,a.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"rounded-lg border border-line bg-stone-50 px-3 py-2 text-sm",children:[a.jsx("option",{value:"all",children:"HSK: All"}),a.jsx("option",{value:"1",children:"HSK 1"}),a.jsx("option",{value:"2",children:"HSK 2"}),a.jsx("option",{value:"3",children:"HSK 3"}),a.jsx("option",{value:"4",children:"HSK 4"}),a.jsx("option",{value:"5",children:"HSK 5"}),a.jsx("option",{value:"6",children:"HSK 6"}),a.jsx("option",{value:"unknown",children:"HSK Unknown"})]}),(0,a.jsxs)("select",{value:_,onChange:e=>S(e.target.value),className:"rounded-lg border border-line bg-stone-50 px-3 py-2 text-sm",children:[a.jsx("option",{value:"frequency",children:"Sort: Frequency"}),a.jsx("option",{value:"hsk",children:"Sort: HSK"}),a.jsx("option",{value:"character",children:"Sort: Character"})]})]}),a.jsx("div",{className:"table-scroll",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"sticky top-0 z-10 bg-white",children:(0,a.jsxs)("tr",{className:"text-center text-stone-500",children:[a.jsx("th",{className:"border-b border-line bg-white py-2",children:"字"}),a.jsx("th",{className:"border-b border-line bg-white py-2",children:"Pinyin"}),a.jsx("th",{className:"border-b border-line bg-white py-2",children:"Definition"}),a.jsx("th",{className:"border-b border-line bg-white py-2",children:"HSK"}),a.jsx("th",{className:"border-b border-line bg-white py-2",children:"Freq"}),a.jsx("th",{className:"border-b border-line bg-white py-2",children:"Trad / Alt"}),a.jsx("th",{className:"border-b border-line bg-white py-2",children:"Action"})]})}),a.jsx("tbody",{children:q.map(e=>(0,a.jsxs)("tr",{className:"border-b border-stone-100 text-center",children:[a.jsx("td",{className:"py-2 text-lg",children:e.character}),a.jsx("td",{className:"py-2",children:e.pinyin||"-"}),a.jsx("td",{className:"max-w-xs py-2 text-left text-xs text-stone-700",children:e.definition||"-"}),a.jsx("td",{className:"py-2",children:(()=>{let t=(0,u.LU)(e.hsk_level);return a.jsx("span",{className:"inline-block rounded-full px-2 py-0.5 text-xs text-stone-900",style:{backgroundColor:(0,u.Wq)(t),color:"#111827"},children:e.hsk_level??"-"})})()}),a.jsx("td",{className:"py-2",children:e.frequency??"-"}),a.jsx("td",{className:"py-2",children:(()=>{let t=new Set;if(e.traditional_character&&t.add(e.traditional_character),e.alternate_characters)for(let r of e.alternate_characters.split("|")){let e=r.trim();e&&t.add(e)}return[...t].join(" / ")||"-"})()}),a.jsx("td",{className:"py-2",children:(0,a.jsxs)("div",{className:"flex justify-center gap-2",children:[a.jsx("button",{onClick:()=>C(e.character,"known"),className:"rounded-lg border border-line px-2 py-1 text-xs hover:bg-stone-100",children:"Set known"}),a.jsx("button",{onClick:()=>C(e.character,"study"),className:"rounded-lg border border-line px-2 py-1 text-xs hover:bg-stone-100",children:"Set study"})]})})]},e.character))})]})}),(0,a.jsxs)("p",{className:"mt-3 text-xs text-stone-500",children:["Showing ",q.length.toLocaleString()," characters."]}),w?a.jsx("p",{className:"mt-2 text-sm text-rose-700",children:w}):null]})]})}},2603:(e,t,r)=>{"use strict";r.d(t,{U:()=>l,q:()=>s});let a={ā:"a",á:"a",ǎ:"a",à:"a",Ā:"a",Á:"a",Ǎ:"a",À:"a",ē:"e",é:"e",ě:"e",è:"e",Ē:"e",É:"e",Ě:"e",È:"e",ī:"i",í:"i",ǐ:"i",ì:"i",Ī:"i",Í:"i",Ǐ:"i",Ì:"i",ō:"o",ó:"o",ǒ:"o",ò:"o",Ō:"o",Ó:"o",Ǒ:"o",Ò:"o",ū:"u",ú:"u",ǔ:"u",ù:"u",Ū:"u",Ú:"u",Ǔ:"u",Ù:"u",ü:"u",ǖ:"u",ǘ:"u",ǚ:"u",ǜ:"u",Ü:"u",Ǖ:"u",Ǘ:"u",Ǚ:"u",Ǜ:"u",ê:"e",Ê:"e"};function n(e){let t="";for(let r of e)t+=a[r]??r;return t}function s(e){return n(e.normalize("NFKC")).normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/ü/g,"u").replace(/Ü/g,"u").toLowerCase().replace(/[0-9]/g,"").replace(/[^a-z]/g,"")}function l(e){return n(e.normalize("NFKC")).normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/ü/g,"u").replace(/Ü/g,"u").toLowerCase().replace(/[0-9]/g," ").split(/[^a-z]+/).map(e=>e.trim()).filter(Boolean)}},9085:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/Users/lastnamelo/wobushizi.com/app/master/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[819,285,609],()=>r(4617));module.exports=a})();