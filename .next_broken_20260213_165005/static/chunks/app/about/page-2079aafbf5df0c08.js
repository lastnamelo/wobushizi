(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[301],{217:function(e,t,n){Promise.resolve().then(n.bind(n,4706))},4706:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(7437),a=n(2265),s=n(4560),i=n(5995),o=n(4798),l=n(4807),u=n(9733);function c(){let[e,t]=(0,a.useState)(0);return(0,a.useEffect)(()=>{(async()=>{await (0,u.if)(),t(await (0,u.B9)())})()},[]),(0,r.jsxs)("main",{className:"relative mx-auto min-h-screen max-w-3xl px-4 py-10 sm:px-6",children:[(0,r.jsx)(l.v,{}),(0,r.jsx)(i.T,{}),(0,r.jsx)(o.k,{knownCount:e}),(0,r.jsx)(s.X,{active:"home"}),(0,r.jsxs)("section",{className:"mx-auto mt-8 rounded-2xl border border-line bg-white p-6 shadow-card",children:[(0,r.jsx)("h1",{className:"text-xl font-medium text-stone-800",children:"About 我不识字"}),(0,r.jsx)("p",{className:"mt-3 leading-7 text-stone-700",children:"我不识字 is a simple reading companion for Chinese text. Paste a passage, quickly mark what you currently recognize, and keep a lightweight known/study bank as you learn over time."}),(0,r.jsx)("p",{className:"mt-3 leading-7 text-stone-700",children:"The current demo build stores data in your browser so you can iterate quickly. Supabase-backed persistence can be toggled back on when you are ready."})]})]})}},4560:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(7437),a=n(7648);function s(e){let{active:t,onSelectBankTab:n}=e;return(0,r.jsx)("div",{className:"mt-4 flex justify-center",children:(0,r.jsx)("div",{className:"inline-flex rounded-full border border-line bg-white p-1 text-sm",children:[{key:"home",label:"Home",href:"/"},{key:"character",label:"Character Bank",href:"/bank?tab=character"},{key:"study",label:"Study Bank",href:"/bank?tab=study"},{key:"master",label:"Master List",href:"/master"}].map(e=>(0,r.jsx)(a.default,{href:e.href,onClick:()=>{("character"===e.key||"study"===e.key)&&n&&n(e.key)},className:"rounded-full px-3 py-1.5 transition ".concat(t===e.key?"bg-stone-800 text-white":"text-stone-700 hover:bg-slate-100"),children:e.label},e.key))})})}},5995:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(7437),a=n(3145),s=n(7648);function i(){return(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(s.default,{href:"/","aria-label":"Go home",children:(0,r.jsx)(a.default,{src:"/wobushizi-logo.png",alt:"我不识字",width:360,height:160,priority:!0,className:"h-auto w-[260px] sm:w-[320px]"})})})}},4798:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(7437);function a(e){let{knownCount:t,target:n=2500}=e,a=Math.min(t/n,1);return(0,r.jsxs)("div",{className:"mx-auto mt-2 w-full max-w-md",children:[(0,r.jsx)("div",{className:"h-2.5 w-full overflow-hidden rounded-full bg-stone-200",children:(0,r.jsx)("div",{className:"h-full rounded-full bg-stone-500 transition-all",style:{width:"".concat(100*a,"%")}})}),(0,r.jsxs)("p",{className:"mt-2 text-center text-sm text-stone-600",children:["Known ",t," / ",n]})]})}},4807:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(7437),a=n(7648);function s(){return(0,r.jsxs)("div",{className:"absolute right-4 top-4 flex gap-4 text-sm text-stone-900 sm:right-6 sm:top-6",children:[(0,r.jsx)("a",{href:"/",className:"hover:underline",children:"Home"}),(0,r.jsx)(a.default,{href:"/about",className:"hover:underline",children:"About"})]})}},9733:function(e,t,n){"use strict";n.d(t,{B9:function(){return u},FA:function(){return c},H1:function(){return f},dS:function(){return m},eJ:function(){return d},if:function(){return l},m$:function(){return h}});let r="local-user",a="wobushizi:character_states",s="wobushizi:log_events";function i(){let e=window.localStorage.getItem(a);if(!e)return{};try{return JSON.parse(e)}catch(e){return{}}}function o(e){window.localStorage.setItem(a,JSON.stringify(e))}async function l(){}async function u(){return Object.values(i()).filter(e=>"known"===e.status).length}async function c(e){let t=i(),n=new Map;for(let r of e){let e=t[r];e&&n.set(r,e)}return n}async function d(e){return Object.values(i()).filter(t=>t.status===e).sort((e,t)=>e.character.localeCompare(t.character,"zh-Hans-CN"))}async function f(){return Object.values(i())}async function h(e,t){var n,a;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date().toISOString(),l=i();l[e]={user_id:r,character:e,status:t,last_seen_at:s,created_at:null!==(a=null===(n=l[e])||void 0===n?void 0:n.created_at)&&void 0!==a?a:s},o(l)}async function m(e,t,n,a){let l=new Date().toISOString(),u=i();for(let e of t){var c,d;let t=a.has(e)?"known":"study";u[e]={user_id:r,character:e,status:t,last_seen_at:l,created_at:null!==(d=null===(c=u[e])||void 0===c?void 0:c.created_at)&&void 0!==d?d:l}}o(u);{let r=window.localStorage.getItem(s),i=r?JSON.parse(r):[];i.push({id:crypto.randomUUID(),source_text:e,created_at:l,items:t.map(e=>{let t=n.has(e),r=a.has(e);return{character:e,action:r?t?"skipped":r?"logged_known":"queued_study":"queued_study",created_at:l}})}),window.localStorage.setItem(s,JSON.stringify(i))}}}},function(e){e.O(0,[726,971,117,744],function(){return e(e.s=217)}),_N_E=e.O()}]);